# 單元1:資安攻擊分析
- 弱點與弱點資料庫
- Network網路攻擊分析與防禦
- 系統威脅分析與防禦
- Web網站威脅分析與防禦
- 著名威脅分析與防禦
- 近期重大攻擊分析與防禦
- 初階IPAS課程 T4.新興科技安全
  - 4-1.雲端安全概論 [教學影片](https://youtu.be/DQicJtGJdyU)
  - 4-2.行動裝置安全概論(教材P219-237)[教學影片](https://youtu.be/rz-FUIeLmB8)
  - 4-3.物聯網安全概論[教學影片](https://youtu.be/0zNPPdzr130)
- 參考書籍
  - [Certified Ethical Hacker (CEH) v12 312-50 Exam Guide](https://subscription.packtpub.com/book/security/9781801813099/pref)
  - [Cybersecurity Threats, Malware Trends, and Strategies - Second Edition](https://www.packtpub.com/product/cybersecurity-threats-malware-trends-and-strategies-second-edition/9781804613672)
## 弱點與弱點資料庫
- 弱點與弱點資料庫
  - NCD
  - CVE | Common Vulnerabilities and Exposures 
  - CWE™ | Common Weakness Enumeration 
  - CPE | Common Platform Enumeration
  - CVSS 漏洞評鑑系統(Common Vulnerability Scoring System；CVSS)
- 弱點排名
  - [OWASP  Top 10 Web Application Security Risks(2021)](https://owasp.org/www-project-top-ten/)
    - https://owasp.org/www-project-top-ten/       https://owasp.org/Top10/zh_TW/
  - [OWASP Top 10 API Security Risks(2023)](https://owasp.org/API-Security/editions/2023/en/0x11-t10/)
  - [2023 CWE Top 25 Most Dangerous Software Weaknesses](https://cwe.mitre.org/top25/archive/2023/2023_top25_list.html)
  - [OWASP Top 10 Mobile Risks - 2016(2023年版尚未正式)](https://owasp.org/www-project-mobile-top-10/)
  - [OWASP Cloud-Native Application Security Top 10  雲端原生應用程式](https://owasp.org/www-project-cloud-native-application-security-top-10/)
  - [OWASP IoT Top 10(2018)](https://wiki.owasp.org/index.php/OWASP_Internet_of_Things_Project#tab=IoT_Top_10)

## Network網路攻擊分析與防禦
- malware(惡意程式)
  - 各種惡意程式(malware)
    - 勒索軟體(ransomware)
    - 木馬|後門程式
    - [蠕蟲(worm)](https://en.wikipedia.org/wiki/Computer_worm)
    - [病毒(Virus)](https://en.wikipedia.org/wiki/Computer_virus)
      - 檔案型病毒
      - 巨集病毒 Macro Virus
      - Polymorphic Virus 
    - fileless malware
    - Drive-By Download｜路過式下載｜網站掛馬攻擊
      - 綜合大量的已知漏洞(也可能包括未知漏洞)對使用者的瀏覽器發起攻擊
      - 在未經用戶同意(或用戶未知的情況下)自動下載到用戶電腦上的惡意程式, 另外,由於遭到植入惡意連結的網頁，多數會導向下載木馬程式，故俗稱網頁掛馬。
      - 「Drive by download」路過式下載是利用系統、應用程式和瀏覽器的漏洞植入惡意程式的一種攻擊手段。網友即使只是瀏覽網站,也會在不知不覺中被迫下載惡意程式。
      - [追劇竟中勒索軟體/勒索病毒! 認識「Drive by download」路過式下載](https://blog.trendmicro.com.tw/?p=17503)
      - Drive-By Download工具
      - Drive-By Download測試架構:drivesploit
      　- drivesploit是一個基於metasploit的Drive-ByDownload測試架構，它可以實施網站掛馬攻擊，除此之外，它還具備javascript混淆加密功能，可更好的隱藏自己
      　- [GITHUB](https://github.com/waynearmorize/drivesploit/archives/master) 
  - 惡意程式分析 (malware analysis)
    - 靜態分析 ida pro|ghidra
      - 逆向工程 REVERSE ENGINEERING
    - 動態分析: 執行 GDB
  - 惡意程式偵測與防護
    - 防毒軟體
    - windows defender | [Microsoft Defender for Endpoint](https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/microsoft-defender-endpoint?view=o365-worldwide)
    - EDR ==> APT
- Social Engineering社交工程攻擊
  - 社交工程
  - 社交工程工具
    - SET (Social Engineering Toolkit).
    - PhishTank - For phishing detection
    - Wifiphisher - Automated phishing attacks against Wi-Fi networks
    - SPF SpeedPhish framework - Quick recon and deployment of simple social eng. exercises
  - [社交工程攻擊類型](https://github.com/Samsar4/CEH-v10-Study-Guide/blob/master/modules/6-Social-Engineering.md)
    - 👥Human-Based Attacks
      - Dumpster Diving
      - Impersonation - Pretending to be someone you're not
      - Shoulder Surfing - Looking over someone's shoulder to get info
      - Eavesdropping - Listening in on conversations about sensitive information
      - Tailgating - Attacker walks in behind someone who has a valid badge. (e.g: Holding boxes or simply by following without getting notice)
      - Piggybacking - Attacker pretends they lost their badge and asks someone to hold the door
      - RFID Identity Theft (RFID skimming) - Stealing an RFID card signature with a specialized device
      - Reverse Social Engineering - Getting someone to call you and give information
      - Insider Attack
  - 💻Computer-Based Attacks
     - Phishing
       - 避免網絡釣魚的方法
         - 1.謹防未知、意外或可疑的發起者
         - 2.注意電子郵件的收件人是誰
         - 3.驗證電話號碼
         - 4.謹防錯誤的拼寫或語法 ==> .gov   vs g0v
         - 5.經常檢查鏈接
     - Spear Phishing 魚叉式網絡釣魚- 針對個人或團體進行網絡釣魚攻擊
     - Whaling ==> 捕鯨 ==> 釣大人物
     - Pharming 網域欺騙- 將用戶的流量重定向到克隆網站；可能使用DNS中毒
     - Spamming
     - Fake Antivirus
     - 更多釣魚的方法:== > 請參閱[Phishing](./Phishing.md)
  - 社交工程防範
- APT 網路攻擊分析與防禦
- Network網路攻擊分析與防禦(1)主題篇
  - session
    - session用途
    - 連線劫持Session Hijacking
      - Session Sniffing
      - Session fixation attack
      - [Session Prediction](https://www.owasp.org/index.php/Session_Prediction) 
    - Session Hijacking Tools
      - [Zaproxy](https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project)
      - [Burp Suite](https://portswigger.net/burp/)
      - [JHijack](http://jhijack.sourceforge.net/)
      - Hamster
      - [Surf Jack](http://www.darknet.org.uk/2008/09/surf-jack-cookie-session-stealing-tool/)
      - [Ettercap](http://ettercap.github.io/ettercap/)
      - [TamperIE](http://www.bayden.com/TamperIE/)
      - Ferret
      - Firesheep
      - [PerJack](https://packetstormsecurity.com/files/86809/PerJack-TCP-Session-Hijack-Tool.html)
      - [WhatsUp Gold Engineer's Toolkit](http://www.whatsupgold.com)
      - [Juggernaut](http://www.securiteam.com/tools/2NUQBSAQ0C.html)
      - [Cookie Cadger](http://www.cookiecadger.com)
  - spoofing/poisoning
    - IP spoofing
    - ARP Spoofing Attack
    - MAC Spoofing/Duplicating
    - DNS spoofing 偽造DNS 紀錄
      - DNS 快取污染(DNS Cache Poisoning)
  - sniffering
- Network網路攻擊分析與防禦(2)協定
  - HTTP 協定攻擊模式分析與防禦
  - DNS 協定攻擊模式分析與防禦
    - [Top 10 Dangerous DNS Attacks Types and The Prevention Measures – 2023](https://cybersecuritynews.com/dns-attacks/)
    - [The Most Popular Types of DNS Attacks](https://securitytrails.com/blog/most-popular-types-dns-attacks)
      - Domain hijacking
      - DNS flood attack
      - Distributed Reflection Denial of Service (DRDoS)
      - DNS Cache poisoning
      - DNS tunneling
      - DNS hijack attack
      - Random subdomain attack
      - NXDOMAIN attack
      - Phantom domain attack 
  - ....... 
## 系統攻擊與防禦(1):Windows作業系統
- [Windows Security | Windows 安全性](https://learn.microsoft.com/zh-tw/windows/security/)
  - 零信任與 Windows
- Windows 硬體安全性 [hardware security](https://learn.microsoft.com/en-us/windows/security/hardware)
  - 信賴平台模組Trusted Platform Module (TPM)
  - Windows Defender 系統防護韌體防護 Hardware-based root of trust with Windows Defender System Guard
  - 系統防護安全啟動和 SMM 保護啟用 
  - 以虛擬化為基礎的程式碼完整性保護Enable virtualization-based protection of code integrity
  - 核心 DMA 保護 Kernel Direct Memory Access (DMA) Protection
- 作業系統安全性
  - 受信任的開機
  - 加密與資料保護
  - Windows 安全性基準
  - 虛擬私人網路指南
  - Windows Defender 防火牆
    - 病毒與威脅防護
- [應用程式安全性](https://learn.microsoft.com/zh-tw/windows/security/application-security/) [Windows application security](https://learn.microsoft.com/en-us/windows/security/application-security/)
  - 1.Windows Defender Application Control應用程式控制
    - 1.1.[User Account Control (UAC)使用者帳戶控制](https://learn.microsoft.com/zh-tw/windows/security/application-security/application-control/user-account-control/)
      - UAC運作方式
      - UAC設定和組態
    - 1.2.Windows Defender 應用程式控制和虛擬式程式碼完整性保護  Windows Defender Application Control and virtualization-based protection of code integrity
      - [WDAC: Windows Defender Application Control應用程式控制])https://learn.microsoft.com/zh-tw/windows/security/threat-protection/windows-defender-application-control/windows-defender-application-control )
      - [AppLocker](https://learn.microsoft.com/zh-tw/windows/security/threat-protection/windows-defender-application-control/applocker/applocker-overview)
   - 1.3.Windows Defender 應用程式控制
   - 1.4.SMART 應用程式控制
  - 2.應用程式隔離 Application Isolation
    - Microsoft Defender 應用程式防護(MDAG) Microsoft Defender Application Guard (MDAG)
      - 適用於 Edge 獨立模式的 MDAG
      - 適用於 Edge 企業模式和企業管理的 MDAG 🔗
    - 適用於 Microsoft Office 的 MDAG
      - 透過 MDM 設定 MDAG 🔗
    - Windows 容器
    - Windows Sandbox(Windows 沙箱)
- Identity Protection 身分識別保護  [Windows identity and privacy](https://learn.microsoft.com/en-us/windows/security/identity)
  - Windows Defender Credential Guard
  - ......
  - Windows Privacy 🔗
- security foundations 微軟安全基礎
  - Microsoft Security Development Lifecycle
  - Certifications
    - FIPS 140-2 Validation
    - Common Criteria Certifications 
  - Microsoft Bug Bounty Program
- Windows Cloud Security| 微軟雲端安全
  - Join Active Directory and Azure AD with single sign-on (SSO) 🔗
  - Security baselines with Intune 🔗
  - Remote wipe (Autopilot reset) 🔗
  - Mobile Device Management (MDM) 🔗
  - Universal Print 🔗
  - Windows Autopatch 🔗
  - Windows Autopilot 🔗

## 系統攻擊與防禦(2):作業系統攻擊手法分析: 
- rootkits vs bootkits
- 各種作業系統提權技術(Privilege Escalations)
  - Vertical privilege escalation vs Horizontal privilege escalation
    - Vertical privilege escalation| privilege elevation| 垂直提權: 攻擊者能獲得比現有帳戶更高的訪問權限
    - Horizontal privilege escalation|水平提權| 橫向移動: 攻擊者能夠獲得與現有帳戶相同的訪問權限，但可以訪問其他原本無訪問權限的帳戶內容
  - Windows Privilege Escalations
    - [[Day29] Windows Privilege Escalation](https://ithelp.ithome.com.tw/articles/10281556) 
  - Linux Privilege Escalations
    - [GTFOBins](https://gtfobins.github.io/)
    - [[Day28] Linux Privilege Escalation](https://ithelp.ithome.com.tw/articles/10281375)

## Web網站威脅分析與防禦
- HTTP 協定
  - HTTP 架構: HTTP request | HTTP response
  - HTTP request
    - request line
    - request header
    - request method(八大方法)
  - HTTP response
    - response line
    - HTTP response status codes
  - 安全性 Header
  - HTTP認證| [HTTP Authentication](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication)
    - basic Authentication ==> 使用 BASE64 編碼
    - Digest Authentication
- [OWASP  Top 10 Web Application Security Risks(2021)](https://owasp.org/www-project-top-ten/)
  - https://owasp.org/www-project-top-ten/       https://owasp.org/Top10/zh_TW/
  - A01 權限控制失效
  - A02 加密機制失效
  - A03 注入式攻擊
    - SQLi
    - XSS
    - LDAP injection
  - (new)A04 不安全設計
  - A05 安全設定缺陷
  - A06 危險或過舊的元件
  - A07 認證及驗證機制失效
  - (new)A08 軟體及資料完整性失效
  - A09 資安記錄及監控失效
  - (new)A10 [Server-side request forgery (SSRF) 伺服端請求偽造]()
- [OWASP Top 10 API Security Risks(2023)](https://owasp.org/API-Security/editions/2023/en/0x11-t10/)
  - API1:2023 - Broken Object Level Authorization物件層級的授權機制被破壞
  - API2:2023 - Broken Authentication失效的身分驗證
  - API3:2023 - Broken Object Property Level Authorization物件屬性層級的授權機制被破壞
  - API4:2023 - Unrestricted Resource Consumption無限制的資源消耗
  - API5:2023 - Broken Function Level Authorization 功能層級的授權機制被破壞
  - API6:2023 - Unrestricted Access to Sensitive Business Flows存取敏感業務流程缺乏限制
  - API7:2023 - Server Side Request Forgery 服務器端請求偽造
  - API8:2023 - Security Misconfiguration錯誤(不正確)的安全配置(設定)
  - API9:2023 - Improper Inventory Management 資產管理不當
  - API10:2023 - Unsafe Consumption of APIs API 的不安全使用

## 著名威脅分析與防禦
  - Windows
    - MS 17-010|EternalBlue
      - EternalBlue是在Windows的SMB服務處理SMB v1請求時發生的漏洞
      - 如果攻擊者向 Microsoft Server Message Block 1.0 (SMBv1) 服務器發送特製消息，最嚴重的漏洞可能允許`遠程執行代碼(remote code execution)`
  - Linux 核心漏洞
    - 2016年 Dirty Cow((Dirty copy-on-write)) CVE-2016–5195
      - [WIKI 說明](https://en.wikipedia.org/wiki/Dirty_COW)
      - ITHOME [Linux重大漏洞Dirty COW修補不完全，再補一次!(2017)](https://www.ithome.com.tw/news/118990)

## 近期重大攻擊分析與防禦
- 2023年
  - LockBit全球最猖獗的勒索軟體  Ransomware-as-a-Service (RaaS)
    - 新聞報導 ITHOME [LockBit現為全球最猖獗的勒索軟體，3年來受害組織超過1,600個](https://www.ithome.com.tw/news/157357)
    - 新聞報導 ITHOME [駭客LockBit勒索攻擊「TSMC」要求7000萬美元，台積電回應：駭客搞錯對象了]()
    - 新聞報導 [Lockbit 3.0勒索病毒：世界上最活跃的勒索病毒的又一次升级变种](https://zhuanlan.zhihu.com/p/539988272)
    - 新聞報導 [LockBit勒索軟體開始攻擊macOS機器](https://www.ithome.com.tw/news/156430)
    - 研究報告 [UNDERSTANDING RANSOMWARE THREAT ACTORS:](https://www.cisa.gov/sites/default/files/2023-06/aa23-165a_understanding_TA_LockBit.pdf)
      - 美國網路安全暨基礎設施安全局（CISA）、聯邦調查局（FBI），以及來自澳洲、加拿大、英國、法國、德國及紐西蘭的網路安全機構，針對勒索軟體LockBit發布了一份共同報告
      - LockBit是去年與今年最活躍的勒索軟體即服務（RaaS），從2020年至今年第一季的受害組織達1,653個，光是計算其在美國市場的相關攻擊，不法所得便超過9,100萬美元。 
- 2022年
  - [五眼聯盟公布去年最常被利用的12個安全漏洞2023](https://www.ithome.com.tw/news/158136)
  - IIS
    - 新聞報導[揭露最新微軟 IIS 三大漏洞研究 DEVCORE 連五年站上 Black Hat USA 黑帽大會](https://tw.news.yahoo.com/%E6%8F%AD%E9%9C%B2%E6%9C%80%E6%96%B0%E5%BE%AE%E8%BB%9F-iis-%E4%B8%89%E5%A4%A7%E6%BC%8F%E6%B4%9E%E7%A0%94%E7%A9%B6-devcore-%E9%80%A3%E4%BA%94%E5%B9%B4%E7%AB%99%E4%B8%8A-133802985.html)
    - CVE-2022-22040
    - CVE-2022-22025
    - CVE-2022-30209
    - [那些年让我们心惊胆战的IIS漏洞](https://www.secpulse.com/archives/82410.html)
    - [IIS 中的 IIS 管理員使用者入門](https://learn.microsoft.com/zh-tw/iis/get-started/getting-started-with-iis/getting-started-with-the-iis-manager-in-iis-7-and-iis-8)
  - Apache Commons Text RCE CVE-2022-42889
    - [CVE-2022-42889 Apache Commons Text RCE漏洞分析](https://www.freebuf.com/vuls/350563.html)
  - OPENSSL Vulnerability
    - 2014:OpenSSL 'Heartbleed' vulnerability (CVE-2014-0160)心臟出血
    - 2022:CVE-2022-3602 and CVE-2022-3786
- 2021年
  - [log4j 漏洞](./log4j.MD)
  - Microsoft Exchange Server Remote Code Execution Vulnerability CVE-2021-26855
  - 更多漏洞 請參閱 [2021 Top Routinely Exploited Vulnerabilities]()  



 
